@using INV.App.Suppliers
@inject IJSRuntime JSRuntime

<RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Start" JustifyContent="JustifyContent.Start" Gap="0.5rem" class="supplier-selector">
    <RadzenLabel Text="Select Supplier" Component="DropDownDataGridChangeEvent" Style="width: 100px"/>

    <RadzenDropDownDataGrid TValue="SupplierInfo"
                            @bind-Value="selectedSupplier"
                            Data="@displayedItems"
                            Name="DropDownDataGridChangeEvent"
                            TextProperty="CompanyName"
                            Change="@(args => selectRowSepplier((SupplierInfo)args))">
        <Columns>
            <RadzenDropDownDataGridColumn Property="CompanyName" Title="Company Name"/>
            <RadzenDropDownDataGridColumn Property="Email" Title="Email"/>
        </Columns>
    </RadzenDropDownDataGrid>
    <RadzenButton Text="Create Supplier" Click="supplierForm.ShowModal" Style="margin-left: 1rem;"/>

</RadzenStack>
<style>
    .supplier-selector {
        padding: 0 !important; 
        margin: 0 !important;
    }
</style>
@*OnSave=""*@
<SupplierForm @ref="supplierForm" CreateButtonLabel="Create and select" OnSupplierCreated="OnSupplierSelected"/>